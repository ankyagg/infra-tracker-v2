<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CivicGuard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%2300d4d4' d='M256 0c4.6 0 9.2 1 13.4 2.9L457.8 82.8c22 9.3 38.4 31 38.3 57.2-.5 99.2-41.3 280.7-213.6 363.2-16.7 8-36.1 8-52.8 0-172.4-82.5-213.1-264-213.6-363.2-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.9 1 251.4 0 256 0zm0 66.8l0 378.1c138-66.8 175.1-214.8 176-303.4l-176-74.6 0 0z'/%3E%3C/svg%3E">
</head>
<body>
  <nav class="navbar">
    <a href="index.html" class="nav-logo">
      <i class="fa-solid fa-shield-halved" style="color: var(--accent-cyan);"></i> CivicGuard
    </a>
    <div class="nav-links">
      <a href="#features" class="hide-mobile">Features</a>
      <a href="app.html" id="newReportBtn" class="nav-btn btn-outline hide-mobile" style="display:none;">+ New Report</a>
      <a href="my-reports.html" id="myReportsLink" class="nav-btn btn-primary hide-mobile" style="display:none;">My Reports</a>
      <a href="heatmap.html" id="heatmapLink" class="nav-btn btn-ghost hide-mobile" style="display:none;">Heatmap</a>
      <a href="login.html" id="loginBtn" style="background: rgba(100, 255, 218, 0.1); padding: 8px 16px; border-radius: 6px; border: 1px solid var(--accent-cyan);">
        <i class="fa-solid fa-right-to-bracket"></i> <span class="btn-text">Login</span>
      </a>
      <a href="#" id="logoutBtn" onclick="logout()" style="display: none; background: rgba(239, 68, 68, 0.2); padding: 8px 16px; border-radius: 6px; border: 1px solid rgba(239, 68, 68, 0.5); color: #fca5a5;">
        <i class="fa-solid fa-right-from-bracket"></i> <span class="btn-text">Logout</span>
      </a>
    </div>
  </nav>
  <header class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Report Infrastructure Risks with <br><span class="text-gradient">AI Precision.</span></h1>
      <p class="hero-subtitle">
        CivicGuard uses advanced computer vision to analyze road damage, 
        fallen poles, and civic hazards instantly. Help us build safer cities.
      </p>
      <a href="app.html" class="cta-button-main">Start Reporting Now <i class="fa-solid fa-arrow-right"></i></a>
    </div>
  </header>
  <section id="features" class="features-section">
    <h2 class="section-title">Why CivicGuard</h2>
    <div class="features-grid">
      <div class="feature-card">
        <i class="fa-solid fa-brain feature-icon"></i>
        <h3>AI Powered Analysis</h3>
        <p>Our Gemini-powered engine detects damage severity and classifies risks automatically in seconds.</p>
      </div>
      <div class="feature-card">
        <i class="fa-solid fa-location-dot feature-icon"></i>
        <h3>Geo-Tagging</h3>
        <p>Pinpoint exact locations with GPS integration to help authorities find the problem faster.</p>
      </div>
      <div class="feature-card">
        <i class="fa-solid fa-bolt feature-icon"></i>
        <h3>Real-Time Alerts</h3>
        <p>High-risk reports are prioritized instantly to prevent accidents before they happen.</p>
      </div>
    </div>
  </section>
  <footer>
    <div style="margin-bottom: 20px;">
      <i class="fa-solid fa-shield-halved" style="color: var(--accent-cyan); font-size: 2rem;"></i>
    </div>
    <p>&copy; 2026 CivicGuard AI Systems.<br>Designed for Safer Cities.</p>
    <div style="margin-top: 20px; font-size: 0.9rem;">
      <a href="#">Privacy Policy</a> &nbsp;|&nbsp; <a href="#">Terms of Service</a> &nbsp;|&nbsp; <a href="https://github.com/ankyagg/infra-tracker-v2" target="_blank">GitHub Repo</a>
    </div>
  </footer>
  
  <script>
    // Check login state
    function checkLogin() {
      const token = localStorage.getItem('userToken');
      const loginBtn = document.getElementById('loginBtn');
      const logoutBtn = document.getElementById('logoutBtn');
      const myReports = document.getElementById('myReportsLink');
      const heatmap = document.getElementById('heatmapLink');
      
      if (token) {
        loginBtn.style.display = 'none';
        logoutBtn.style.display = 'inline-flex';
        if (myReports) myReports.style.display = 'inline-flex';
        if (heatmap) heatmap.style.display = 'inline-flex';
      } else {
        loginBtn.style.display = 'inline-flex';
        logoutBtn.style.display = 'none';
        if (myReports) myReports.style.display = 'none';
        if (heatmap) heatmap.style.display = 'none';
      }
    }
    
    async function logout() {
      const token = localStorage.getItem('userToken');
      try {
        await fetch('/auth/logout', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ token })
        });
      } catch (err) {}
      
      localStorage.removeItem('userToken');
      localStorage.removeItem('userName');
      localStorage.removeItem('userEmail');
      localStorage.removeItem('userRole');
      
      window.location.reload();
    }
    
    checkLogin();
  </script>
</body>
</html>